# æœ‰ä¸€å †çŸ³å¤´ï¼Œç”¨æ•´æ•°æ•°ç»„ stones è¡¨ç¤ºã€‚å…¶ä¸­ stones[i] è¡¨ç¤ºç¬¬ i å—çŸ³å¤´çš„é‡é‡ã€‚ 
# 
#  æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡ºä»»æ„ä¸¤å—çŸ³å¤´ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸º x å’Œ yï¼Œä¸” x <= yã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼š 
# 
#  
#  å¦‚æœ x == yï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼› 
#  å¦‚æœ x != yï¼Œé‚£ä¹ˆé‡é‡ä¸º x çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸º y çš„çŸ³å¤´æ–°é‡é‡ä¸º y-xã€‚ 
#  
# 
#  æœ€åï¼Œæœ€å¤šåªä¼šå‰©ä¸‹ä¸€å— çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´ æœ€å°çš„å¯èƒ½é‡é‡ ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› 0ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# è¾“å…¥ï¼šstones = [2,7,4,1,8,1]
# è¾“å‡ºï¼š1
# è§£é‡Šï¼š
# ç»„åˆ 2 å’Œ 4ï¼Œå¾—åˆ° 2ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [2,7,1,8,1]ï¼Œ
# ç»„åˆ 7 å’Œ 8ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [2,1,1,1]ï¼Œ
# ç»„åˆ 2 å’Œ 1ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [1,1,1]ï¼Œ
# ç»„åˆ 1 å’Œ 1ï¼Œå¾—åˆ° 0ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [1]ï¼Œè¿™å°±æ˜¯æœ€ä¼˜å€¼ã€‚
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼šstones = [31,26,33,21,40]
# è¾“å‡ºï¼š5
#  
# 
#  ç¤ºä¾‹ 3ï¼š 
# 
#  
# è¾“å…¥ï¼šstones = [1,2]
# è¾“å‡ºï¼š1
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= stones.length <= 30 
#  1 <= stones[i] <= 100 
#  
#  Related Topics åŠ¨æ€è§„åˆ’ 
#  ğŸ‘ 192 ğŸ‘ 0

from typing import List
# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def lastStoneWeightII(self, stones: List[int]) -> int:
        """
        çŸ³å¤´æŠ½ä¸¤ä¸ªå‡ºæ¥ï¼Œè¾ƒå¤§çš„ä¸ºaï¼Œè¾ƒå°çš„ä¸ºbï¼Œåˆ™æ–°äº§ç”Ÿçš„çŸ³å¤´cä¸ºa-b
        å¦‚æœcåœ¨ä¸‹ä¸€æ­¥çš„è¿ç®—ä¸­æ˜¯è¾ƒå¤§çŸ³å¤´ï¼Œåˆ™è¿è¡Œç»“æœè¿˜æ˜¯a - b - d
        å¦‚æœcåœ¨ä¸‹ä¸€æ­¥çš„è¿ç®—ä¸­æ˜¯è¾ƒå°çŸ³å¤´ï¼Œåˆ™è¿è¡Œç»“æœæ˜¯d - (a - b)
        æ‰€ä»¥å…¶å®åœ¨æ•´ä¸ªã€åˆå¹¶ã€‘ã€æ”¾å›ã€‘ä¸­ï¼Œæ“ä½œçš„å…¶å®å°±æ˜¯æ¯ä¸ªæ•°å‰é¢çš„ç¬¦å·
        é‚£ä¹ˆæƒ³è¦æœ€åç»“æœæœ€å°ï¼Œåˆ™å°±æ˜¯æƒ³è¦å¸¦æ­£å·çš„æ•°ç»å¯¹å€¼ä¹‹å’Œä¸å¸¦è´Ÿå·çš„æ•°çš„ç»å¯¹å€¼ä¹‹å’Œæœ€å°
        åˆ™é—®é¢˜è½¬åŒ–ä¸ºï¼šå¸Œæœ›åœ¨stonesé€‰æ‹©,å‡‘æˆæ€»å’Œä¸è¶…è¿‡sum/2çš„æœ€å¤§ä»·å€¼ï¼Œ01èƒŒåŒ…é—®é¢˜
        f[i][j]ä¸ºè€ƒè™‘å‰iä¸ªç‰©å“ï¼Œå…¶æ€»å’Œä¸è¶…è¿‡jçš„æœ€å¤§ä»·å€¼
        f[i][j] = max(f[i-1][j], f[i-1][j-stones[i-1]] + stones[i-1])
        """
        s = sum(stones) // 2
        f = [[0] * (s + 1) for _ in range(2)]
        for i in range(1, len(stones) + 1):
            for j in range(s + 1):
                f[i&1][j] = f[(i-1)&1][j]
                if j >= stones[i - 1]:
                    f[i&1][j] = max(f[i&1][j], f[(i-1)&1][j-stones[i-1]] + stones[i-1])

        return abs(sum(stones) - f[len(stones)&1][s] - f[len(stones)&1][s])


# leetcode submit region end(Prohibit modification and deletion)
stones = [2,7,4,1,8,1]
# stones = [31,26,33,21,40]
# stones = [1,1]
print(Solution().lastStoneWeightII(stones))