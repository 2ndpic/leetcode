# ä¸€ä¸ªæ•°ç»„ a çš„ å·®ç»å¯¹å€¼çš„æœ€å°å€¼ å®šä¹‰ä¸ºï¼š0 <= i < j < a.length ä¸” a[i] != a[j] çš„ |a[i] - a[j]| çš„ æœ€
# å°å€¼ã€‚å¦‚æœ a ä¸­æ‰€æœ‰å…ƒç´ éƒ½ ç›¸åŒ ï¼Œé‚£ä¹ˆå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º -1 ã€‚ 
# 
#  
#  æ¯”æ–¹è¯´ï¼Œæ•°ç»„ [5,2,3,7,2] å·®ç»å¯¹å€¼çš„æœ€å°å€¼æ˜¯ |2 - 3| = 1 ã€‚æ³¨æ„ç­”æ¡ˆä¸ä¸º 0 ï¼Œå› ä¸º a[i] å’Œ a[j] å¿…é¡»ä¸ç›¸ç­‰ã€‚ 
#  
# 
#  ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’ŒæŸ¥è¯¢æ•°ç»„ queries ï¼Œå…¶ä¸­ queries[i] = [li, ri] ã€‚å¯¹äºæ¯ä¸ªæŸ¥è¯¢ i ï¼Œè®¡ç®— å­æ•°ç»„ nums[
# li...ri] ä¸­ å·®ç»å¯¹å€¼çš„æœ€å°å€¼ ï¼Œå­æ•°ç»„ nums[li...ri] åŒ…å« nums æ•°ç»„ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ä¸­ä¸‹æ ‡åœ¨ li å’Œ ri ä¹‹é—´çš„æ‰€æœ‰å…ƒç´ ï¼ˆ
# åŒ…å« li å’Œ ri åœ¨å†…ï¼‰ã€‚ 
# 
#  è¯·ä½ è¿”å› ans æ•°ç»„ï¼Œå…¶ä¸­ ans[i] æ˜¯ç¬¬ i ä¸ªæŸ¥è¯¢çš„ç­”æ¡ˆã€‚ 
# 
#  å­æ•°ç»„ æ˜¯ä¸€ä¸ªæ•°ç»„ä¸­è¿ç»­çš„ä¸€æ®µå…ƒç´ ã€‚ 
# 
#  |x| çš„å€¼å®šä¹‰ä¸ºï¼š 
# 
#  
#  å¦‚æœ x >= 0 ï¼Œé‚£ä¹ˆå€¼ä¸º x ã€‚ 
#  å¦‚æœ x < 0 ï¼Œé‚£ä¹ˆå€¼ä¸º -x ã€‚ 
#  
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# è¾“å…¥ï¼šnums = [1,3,4,8], queries = [[0,1],[1,2],[2,3],[0,3]]
# è¾“å‡ºï¼š[2,1,4,1]
# è§£é‡Šï¼šæŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š
# - queries[0] = [0,1]ï¼šå­æ•°ç»„æ˜¯ [1,3] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |1-3| = 2 ã€‚
# - queries[1] = [1,2]ï¼šå­æ•°ç»„æ˜¯ [3,4] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |3-4| = 1 ã€‚
# - queries[2] = [2,3]ï¼šå­æ•°ç»„æ˜¯ [4,8] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |4-8| = 4 ã€‚
# - queries[3] = [0,3]ï¼šå­æ•°ç»„æ˜¯ [1,3,4,8] ï¼Œå·®çš„ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |3-4| = 1 ã€‚
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼šnums = [4,5,2,2,7,10], queries = [[2,3],[0,2],[0,5],[3,5]]
# è¾“å‡ºï¼š[-1,1,1,3]
# è§£é‡Šï¼šæŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š
# - queries[0] = [2,3]ï¼šå­æ•°ç»„æ˜¯ [2,2] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º -1 ï¼Œå› ä¸ºæ‰€æœ‰å…ƒç´ ç›¸ç­‰ã€‚
# - queries[1] = [0,2]ï¼šå­æ•°ç»„æ˜¯ [4,5,2] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |4-5| = 1 ã€‚
# - queries[2] = [0,5]ï¼šå­æ•°ç»„æ˜¯ [4,5,2,2,7,10] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |4-5| = 1 ã€‚
# - queries[3] = [3,5]ï¼šå­æ•°ç»„æ˜¯ [2,7,10] ï¼Œå·®ç»å¯¹å€¼çš„æœ€å°å€¼ä¸º |7-10| = 3 ã€‚
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  2 <= nums.length <= 105 
#  1 <= nums[i] <= 100 
#  1 <= queries.length <= 2 * 104 
#  0 <= li < ri < nums.length 
#  
#  Related Topics æ•°ç»„ 
#  ğŸ‘ 9 ğŸ‘ 0
from typing import List

# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def minDifference(self, nums: List[int], queries: List[List[int]]) -> List[int]:
        """
        pre[i][c]è¡¨ç¤ºè€ƒè™‘numså‰iä¸ªå…ƒç´ åŒ…å«å…ƒç´ cçš„ä¸ªæ•°
        é‚£ä¹ˆå¯¹äºåŒºé—´[i,..,j]æ˜¯å¦å­˜åœ¨å…ƒç´ c,å¯è¡¨ç¤ºä¸ºpre[j+1][c] - pre[i][c] > 0
        é‚£ä¹ˆå°±ä»1-100éå†ç›¸é‚»å…ƒç´ æ›´æ–°æœ€å°å·®ç»å¯¹å€¼
        """
        n = len(nums)
        pre = [[0] * 101 for _ in range(n + 1)]
        for i in range(1, n + 1):
            pre[i][nums[i - 1]] = pre[i - 1][nums[i - 1]] + 1
            if i + 1 < n + 1:
                pre[i + 1] = pre[i][:]

        ans = []
        for i, j in queries:
            cur = None
            tmp = 1000
            for num in range(1, 101):
                if pre[j + 1][num] - pre[i][num] > 0:
                    if cur is not None:
                        tmp = min(tmp, num - cur)
                    cur = num
            ans.append(tmp if tmp < 1000 else -1)
        return ans
# leetcode submit region end(Prohibit modification and deletion)
nums = [1,3,4,8]; queries = [[0,1],[1,2],[2,3],[0,3]]
print(Solution().minDifference(nums, queries))